# 1. ENABLE URL REWRITING (Necessary for Custom URLs)
RewriteEngine On
RewriteBase /

# Route requests like "/sarah-jenkins" to "index.html?agent=sarah-jenkins"
# This makes clean URLs work!
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/index.html$
RewriteRule ^([^/]+)/?$ index.html?agent=$1 [L,QSA]

# 2. DEFAULT PAGE
# Tells server to load index.html when someone visits the main domain
DirectoryIndex index.html

# 3. ENABLE CORS FOR JSON (Necessary for Data Loading)
# Allows the main website (www.teamraya.com) to fetch agents-data.json
<FilesMatch "\.json$">
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type"
</FilesMatch>

# 4. BASIC SECURITY
# Prevents people from seeing a list of all the files
Options -Indexes
