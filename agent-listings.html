<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agent Listings - Raya Homes</title>
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/find-agent.css" />
    <link rel="stylesheet" href="css/agent-listings.css" />
    <link rel="stylesheet" href="css/agent-modal.css" />
    <!-- FontAwesome for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Header -->
    <div class="app-container" id="header-placeholder"></div>

    <main class="main-container">
      <!-- Hero/Title Section -->
      <section class="listings-hero">
        <div class="app-container">
          <h2 class="page-title" id="pageTitle">
            Real Estate Agents in United States
          </h2>
        </div>
      </section>

      <!-- Filter Bar -->
      <div class="app-container filter-bar-container">
        <div class="filter-bar">
          <!-- Location Input -->
          <div class="filter-search-wrapper">
            <div class="search-input-wrapper">
              <input
                type="text"
                id="locInput"
                placeholder="Location (City, State)"
                autocomplete="off"
              />
              <span class="input-icon-left"
                ><i class="fa-solid fa-location-dot"></i
              ></span>
              <button class="search-icon-btn" id="updateSearchBtn">
                <i class="fa-solid fa-magnifying-glass"></i>
              </button>
              <ul class="search-suggestions" id="locSuggestions">
                <!-- JS will populate -->
              </ul>
            </div>
          </div>

          <!-- Agent Name Input -->
          <div class="filter-search-wrapper">
            <!-- Changed wrapper to match loc -->
            <div class="search-input-wrapper">
              <input
                type="text"
                id="nameInput"
                placeholder="Agent Name"
                autocomplete="off"
              />
              <!-- Icon inside input wrapper for visual consistency if needed, or just plain -->
              <span class="input-icon-left"
                ><i class="fa-solid fa-user"></i
              ></span>
              <button class="search-icon-btn" id="updateAgentSearchBtn">
                <i class="fa-solid fa-magnifying-glass"></i>
              </button>
              <ul class="search-suggestions" id="nameSuggestions">
                <!-- JS will populate -->
              </ul>
            </div>
          </div>

          <!-- Find Agent Button -->
          <button class="btn btn-secondary find-agent-btn" id="findAgentBtn">
            <i class="fa-solid fa-magnifying-glass"></i> Find Agent
          </button>

          <!-- Save Search Button -->
          <button class="btn btn-secondary save-search-btn" id="saveSearchBtn">
            <i class="fa-regular fa-heart"></i> Save Search
          </button>
        </div>
      </div>

      <!-- Results Grid -->
      <section class="results-section">
        <div class="app-container">
          <div class="results-header">
            <h2 class="results-count" id="resultsCount">2 Agents found</h2>
          </div>

          <div class="agent-grid" id="staticAgentGrid">
            <!-- Dynamic Agents will be loaded here by js/agent-listings.js -->
          </div>
        </div>
      </section>
    </main>

    <!-- Toast Notification -->
    <div class="toast-notification" id="saveToast">
      <i class="fa-solid fa-circle-check"></i>
      <span id="toastMessage">Search saved successfully!</span>
    </div>

    <!-- Save Search Modal -->
    <div class="contact-overlay" id="saveSearchOverlay">
      <div class="contact-modal" style="max-width: 400px">
        <div class="contact-card glass-panel" style="padding: 2rem">
          <h3 class="card-title text-center" style="margin-bottom: 1.5rem">
            Name your search
          </h3>

          <div class="form-group floating-group">
            <input
              type="text"
              id="searchNameInput"
              class="input-rounded"
              placeholder=" "
              value="Agent Search"
            />
            <label for="searchNameInput" class="floating-label"
              >Search Name</label
            >
          </div>

          <div
            class="d-flex gap-md mt-2"
            style="display: flex; gap: 1rem; margin-top: 1rem"
          >
            <button
              class="btn btn-outline btn-block"
              id="cancelSaveSearchBtn"
              style="border-radius: 12px; flex: 1"
            >
              Cancel
            </button>
            <button
              class="btn btn-primary btn-block"
              id="confirmSaveSearchBtn"
              style="border-radius: 12px; flex: 1"
            >
              Save
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Agent Contact Modal -->
    <div id="agentContactModal" class="modal-overlay">
      <div class="modal-container">
        <div class="modal-header">
          <h3 id="modalAgentName">Contact Agent</h3>
          <button class="modal-close" onclick="closeAgentContactModal()">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="agent-contact-details">
            <p id="modalAgentEmail"></p>
            <p id="modalAgentPhone"></p>
          </div>
          <form class="modal-contact-form">
            <div class="floating-label-group">
              <input
                type="text"
                id="modal_name"
                class="premium-input"
                placeholder="e.g. John Doe"
                required
              />
              <label for="modal_name"
                >Your Name <span class="required">*</span></label
              >
            </div>

            <div class="floating-label-group">
              <input
                type="email"
                id="modal_email"
                class="premium-input"
                placeholder="e.g. john@example.com"
                required
              />
              <label for="modal_email"
                >Your Email <span class="required">*</span></label
              >
            </div>

            <div class="floating-label-group">
              <input
                type="tel"
                id="modal_phone"
                class="premium-input"
                placeholder="e.g. +1 (555) 000-0000"
              />
              <label for="modal_phone">Your Phone</label>
            </div>

            <div class="floating-label-group">
              <textarea
                id="modal_message"
                class="premium-input"
                rows="4"
                placeholder="I'm interested in discussing..."
              ></textarea>
              <label for="modal_message">Message</label>
            </div>

            <button type="submit" class="btn-primary btn-block">
              Send Message <i class="fa-solid fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <script src="js/load-components.js"></script>
    <script src="agent/js/agents-data.js"></script>
    <script src="js/agent-modal.js"></script>
    <script src="js/agent-listings.js"></script>
  </body>
</html>
